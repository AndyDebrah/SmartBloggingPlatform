<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.smartblog.ui.view.performance.PerformanceController"
      spacing="20" style="-fx-padding: 24; -fx-background-color: #12151a;">

    <!-- Header - Vibrant gradient -->
    <HBox alignment="CENTER_LEFT" spacing="16" style="-fx-background-color: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%); -fx-background-radius: 16; -fx-padding: 20 28; -fx-effect: dropshadow(gaussian, rgba(99,102,241,0.4), 20, 0, 0, 8);">
        <Button text="â† Back" onAction="#handleBack" style="-fx-background-color: rgba(255,255,255,0.15); -fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: 600; -fx-padding: 10 20; -fx-background-radius: 10; -fx-border-color: rgba(255,255,255,0.3); -fx-border-radius: 10;" />
        <Label text="âš¡ Performance Benchmark Report" style="-fx-text-fill: #ffffff; -fx-font-size: 24px; -fx-font-weight: 700;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <ProgressIndicator fx:id="progressIndicator" prefWidth="24" prefHeight="24" style="-fx-progress-color: white;" visible="false"/>
        <CheckBox fx:id="clearCacheChk" text="Clear caches before run" style="-fx-text-fill: rgba(255,255,255,0.9); -fx-font-size: 13px; -fx-padding: 0 12;" />
        <Button fx:id="runBenchmarkBtn" text="Run Benchmarks" onAction="#handleRunBenchmarks"
            style="-fx-background-color: rgba(255,255,255,0.15); -fx-text-fill: #ffffff; -fx-font-weight: 700; -fx-padding: 12 24; -fx-background-radius: 10; -fx-border-color: rgba(255,255,255,0.3); -fx-border-radius: 10; -fx-font-size: 14px;"/>
        <Button fx:id="runColdWarmBtn" text="Run Cold + Warm" onAction="#handleRunColdWarm"
            style="-fx-background-color: rgba(255,255,255,0.15); -fx-text-fill: #ffffff; -fx-font-weight: 700; -fx-padding: 12 24; -fx-background-radius: 10; -fx-border-color: rgba(255,255,255,0.3); -fx-border-radius: 10; -fx-font-size: 14px;"/>
        <Button fx:id="exportBtn" text="Export Report" onAction="#handleExport"
            style="-fx-background-color: #ffffff; -fx-text-fill: #6366f1; -fx-font-weight: 700; -fx-padding: 12 24; -fx-background-radius: 10; -fx-font-size: 14px;"/>
    </HBox>

    <!-- Status Label -->
    <Label fx:id="statusLbl" text="Ready" style="-fx-font-size: 14px; -fx-text-fill: #22c55e; -fx-font-weight: 500;"/>

    <!-- Summary Statistics - Dark Card -->
    <VBox spacing="16" style="-fx-background-color: linear-gradient(180deg, #1e222a 0%, #1a1d23 100%); -fx-background-radius: 16; -fx-padding: 24; -fx-border-color: #374151; -fx-border-radius: 16; -fx-border-width: 1; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 16, 0, 0, 4);">
        <Label text="ðŸ“Š Summary Statistics" style="-fx-font-size: 16px; -fx-font-weight: 700; -fx-text-fill: #ffffff;"/>
        <Separator style="-fx-background-color: #374151;"/>
        <GridPane hgap="24" vgap="16" style="-fx-padding: 8 0 0 0;">
            <columnConstraints>
                <ColumnConstraints percentWidth="18"/>
                <ColumnConstraints percentWidth="32"/>
                <ColumnConstraints percentWidth="18"/>
                <ColumnConstraints percentWidth="32"/>
            </columnConstraints>

            <!-- Row 1 -->
            <Label text="Total Tests:" style="-fx-font-weight: 600; -fx-text-fill: #94a3b8; -fx-font-size: 14px;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <Label fx:id="totalTestsLbl" text="0" style="-fx-text-fill: #6366f1; -fx-font-size: 18px; -fx-font-weight: 700;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

            <Label text="Total Duration:" style="-fx-font-weight: 600; -fx-text-fill: #94a3b8; -fx-font-size: 14px;" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
            <Label fx:id="totalDurationLbl" text="0 ms" style="-fx-text-fill: #6366f1; -fx-font-size: 18px; -fx-font-weight: 700;" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

            <!-- Row 2 -->
            <Label text="Average Duration:" style="-fx-font-weight: 600; -fx-text-fill: #94a3b8; -fx-font-size: 14px;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <Label fx:id="avgDurationLbl" text="0.00 ms" style="-fx-text-fill: #22c55e; -fx-font-size: 18px; -fx-font-weight: 700;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

            <!-- Row 3 -->
            <Label text="Slowest Test:" style="-fx-font-weight: 600; -fx-text-fill: #94a3b8; -fx-font-size: 14px;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <Label fx:id="slowestTestLbl" text="-" wrapText="true" style="-fx-text-fill: #ef4444; -fx-font-size: 13px; -fx-font-weight: 500;" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>

            <!-- Row 4 -->
            <Label text="Fastest Test:" style="-fx-font-weight: 600; -fx-text-fill: #94a3b8; -fx-font-size: 14px;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
            <Label fx:id="fastestTestLbl" text="-" wrapText="true" style="-fx-text-fill: #22c55e; -fx-font-size: 13px; -fx-font-weight: 500;" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="3"/>
        </GridPane>
    </VBox>

    <!-- Results Table - Dark Card -->
    <VBox spacing="16" VBox.vgrow="ALWAYS" style="-fx-background-color: linear-gradient(180deg, #1e222a 0%, #1a1d23 100%); -fx-background-radius: 16; -fx-padding: 24; -fx-border-color: #374151; -fx-border-radius: 16; -fx-border-width: 1; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 16, 0, 0, 4);">
        <Label text="ðŸ“ˆ Detailed Results" style="-fx-font-size: 16px; -fx-font-weight: 700; -fx-text-fill: #ffffff;"/>
        <Separator style="-fx-background-color: #374151;"/>
        <TableView fx:id="resultsTable" VBox.vgrow="ALWAYS" 
                   style="-fx-background-color: #242830; -fx-table-cell-border-color: #374151; -fx-control-inner-background: #242830; -fx-control-inner-background-alt: #1e222a; -fx-background-radius: 12;">
            <columns>
                <TableColumn fx:id="testNameColumn" text="Test Name" prefWidth="500"/>
                <TableColumn fx:id="durationColumn" text="Duration (ms)" prefWidth="150"/>
            </columns>
        </TableView>
    </VBox>

    <!-- Info Section - Dark theme -->
    <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-padding: 16; -fx-background-color: rgba(99,102,241,0.1); -fx-background-radius: 12; -fx-border-color: rgba(99,102,241,0.3); -fx-border-radius: 12;">
        <Label text="â„¹ï¸" style="-fx-font-size: 18px;"/>
        <Label text="These benchmarks measure query performance with current database indexes (V2 + V3). Lower times indicate better performance."
               wrapText="true" style="-fx-text-fill: #a5b4fc; -fx-font-size: 13px;"/>
    </HBox>
</VBox>